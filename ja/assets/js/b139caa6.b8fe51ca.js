"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[7829],{84215:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>r,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=a(85893),t=a(11151);const i={title:"Photon\u3092\u4f7f\u7528\u3057\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc",tags:["multiplayer","networking"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/926999/90AE0A-image-75.jpg"},s=void 0,l={id:"tutorials/real-time-multiplayer-photon",title:"Photon\u3092\u4f7f\u7528\u3057\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc",description:"\u5e8a\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u79fb\u52d5\u304c\u3067\u304d\u307e\u3059\u3002",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/tutorials/real-time-multiplayer-photon.md",sourceDirName:"tutorials",slug:"/tutorials/real-time-multiplayer-photon",permalink:"/ja/tutorials/real-time-multiplayer-photon",draft:!1,unlisted:!1,editUrl:"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/tutorials/real-time-multiplayer-photon.md",tags:[{label:"multiplayer",permalink:"/ja/tags/multiplayer"},{label:"networking",permalink:"/ja/tags/networking"}],version:"current",frontMatter:{title:"Photon\u3092\u4f7f\u7528\u3057\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc",tags:["multiplayer","networking"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/926999/90AE0A-image-75.jpg"},sidebar:"tutorialsSidebar",previous:{title:"Colyseus\u3092\u4f7f\u3063\u305f\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc",permalink:"/ja/tutorials/real-time-multiplayer-colyseus"},next:{title:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc",permalink:"/ja/tutorials/real-time-multiplayer"}},r={},c=[{value:"\u5b66\u7fd2\u5185\u5bb9",id:"\u5b66\u7fd2\u5185\u5bb9",level:2},{value:"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7",id:"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7",level:2},{value:"PlayCanvas\u30d7\u30ed\u30b8\u30a7\u30af\u30c8",id:"playcanvas\u30d7\u30ed\u30b8\u30a7\u30af\u30c8",level:3},{value:"Photon\u30a2\u30ab\u30a6\u30f3\u30c8",id:"photon\u30a2\u30ab\u30a6\u30f3\u30c8",level:3},{value:"\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u3092\u4f5c\u6210",id:"\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u3092\u4f5c\u6210",level:4},{value:"Photon\u30bf\u30a4\u30d7\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u9078\u629e",id:"photon\u30bf\u30a4\u30d7\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u9078\u629e",level:4},{value:"AppID\u3092\u30b3\u30d4\u30fc",id:"appid\u3092\u30b3\u30d4\u30fc",level:4},{value:"SDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",id:"sdk\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",level:3},{value:"SDK\u3092\u30af\u30ea\u30c3\u30af",id:"sdk\u3092\u30af\u30ea\u30c3\u30af",level:4},{value:"RealTime JavaScript\u3092\u9078\u629e",id:"realtime-javascript\u3092\u9078\u629e",level:4},{value:"SDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u30af\u30ea\u30c3\u30af",id:"sdk\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u30af\u30ea\u30c3\u30af",level:4},{value:"SDK\u3092\u89e3\u51cd",id:"sdk\u3092\u89e3\u51cd",level:4},{value:"SDK\u306e\u30a4\u30f3\u30dd\u30fc\u30c8",id:"sdk\u306e\u30a4\u30f3\u30dd\u30fc\u30c8",level:3},{value:"\u30a8\u30c7\u30a3\u30bf\u306bSDK\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",id:"\u30a8\u30c7\u30a3\u30bf\u306bsdk\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",level:4},{value:"Loading Type\u3092\u300cAsset\u300d\u304b\u3089\u300cBefore Engine\u300d\u306b\u5909\u66f4",id:"loading-type\u3092asset\u304b\u3089before-engine\u306b\u5909\u66f4",level:4},{value:"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u5b9f\u88c5",id:"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u5b9f\u88c5",level:2},{value:"PlayCanvas\u3067Photon\u3092\u4f7f\u7528",id:"playcanvas\u3067photon\u3092\u4f7f\u7528",level:3},{value:"PlayCanvas\u304b\u3089Photon\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u30af\u30e9\u30b9\u3092\u751f\u6210",id:"playcanvas\u304b\u3089photon\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u30af\u30e9\u30b9\u3092\u751f\u6210",level:4},{value:"Root entity\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b",id:"root-entity\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b",level:4},{value:"\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027\u306bAppId\u3092\u8cbc\u308a\u4ed8\u3051\u308b",id:"\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027\u306bappid\u3092\u8cbc\u308a\u4ed8\u3051\u308b",level:4},{value:"\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b",id:"\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b",level:3},{value:"<code>connectToRegionMaster</code> \u3092\u4f7f\u7528\u3057\u3066\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b",id:"connecttoregionmaster-\u3092\u4f7f\u7528\u3057\u3066\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b",level:4},{value:"\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u307e\u305f\u306f\u53c2\u52a0",id:"\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u307e\u305f\u306f\u53c2\u52a0",level:3},{value:"\u53c2\u52a0\u3068\u9000\u51fa",id:"\u53c2\u52a0\u3068\u9000\u51fa",level:3},{value:"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u79fb\u52d5",id:"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u79fb\u52d5",level:4},{value:"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u540c\u671f\u3059\u308b",id:"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u540c\u671f\u3059\u308b",level:3},{value:"<strong>raiseEvent</strong> \u3092\u4f7f\u7528\u3057\u305f\u4f4d\u7f6e\u306e\u540c\u671f",id:"raiseevent-\u3092\u4f7f\u7528\u3057\u305f\u4f4d\u7f6e\u306e\u540c\u671f",level:4},{value:"\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3059\u308b\u3088\u3046\u5909\u66f4",id:"\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3059\u308b\u3088\u3046\u5909\u66f4",level:4},{value:"\u5b8c\u6210\uff01",id:"\u5b8c\u6210",level:3}];function d(n){const e={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"iframe-container",children:(0,o.jsx)("iframe",{loading:"lazy",src:"https://playcanv.as/e/p/dvJYXs1Y/",title:"Real-time Multiplayer with Photon - including matchmaking"})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.em,{children:"\u5e8a\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3053\u3068\u3067\u79fb\u52d5\u304c\u3067\u304d\u307e\u3059\u3002"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://playcanvas.com/project/926999/",children:"\u3053\u306e\u30ea\u30f3\u30af"}),"\u304b\u3089\u30de\u30c3\u30c1\u30e1\u30a4\u30ad\u30f3\u30b0\u3092\u542b\u3080\u5b8c\u5168\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u53c2\u7167\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.p,{children:"Photon(PUN\u3068\u3057\u3066\u3082\u77e5\u3089\u308c\u308b)\u306f\u591a\u304f\u306e\u30b2\u30fc\u30e0\u3067\u4f7f\u7528\u3055\u308c\u3001HTML5\u30b2\u30fc\u30e0\u7528\u306eJavaScript SDK\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002"}),"\n",(0,o.jsx)(e.p,{children:"\u6700\u592720\u4eba\u306e\u30aa\u30f3\u30e9\u30a4\u30f3\u30d7\u30ec\u30a4\u30e4\u30fc(CCU)\u3092\u5bfe\u8c61\u3068\u3059\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u306f\u7121\u6599\u3067\u4f7f\u3048\u307e\u3059\u3002"}),"\n",(0,o.jsx)(e.h2,{id:"\u5b66\u7fd2\u5185\u5bb9",children:"\u5b66\u7fd2\u5185\u5bb9"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Photon SDK\u3092PlayCanvas\u306b\u8ffd\u52a0\u3059\u308b\u65b9\u6cd5"}),"\n",(0,o.jsx)(e.li,{children:"Photon\u3092\u7528\u3044\u305f\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u5b9f\u88c5"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7",children:"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7"}),"\n",(0,o.jsx)(e.h3,{id:"playcanvas\u30d7\u30ed\u30b8\u30a7\u30af\u30c8",children:"PlayCanvas\u30d7\u30ed\u30b8\u30a7\u30af\u30c8"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://playcanvas.com/project/954410/",children:"tutorial project here"}),"\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3066\u958b\u59cb\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/1.png",alt:"Empty Project"})}),"\n",(0,o.jsx)(e.h3,{id:"photon\u30a2\u30ab\u30a6\u30f3\u30c8",children:"Photon\u30a2\u30ab\u30a6\u30f3\u30c8"}),"\n",(0,o.jsx)(e.p,{children:"SDK\u306e\u4f7f\u7528\u3068\u30c9\u30ad\u30e5\u30e1\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u95b2\u89a7\u306b\u306f\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059\u3002"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://www.photonengine.com/",children:"\u3053\u3061\u3089"}),"\u304b\u3089Photon\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,o.jsx)(e.h4,{id:"\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u3092\u4f5c\u6210",children:"\u65b0\u3057\u3044\u30a2\u30d7\u30ea\u3092\u4f5c\u6210"}),"\n",(0,o.jsxs)(e.p,{children:["\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u304b\u3089",(0,o.jsx)(e.strong,{children:"CREATE NEW APP"}),"\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/2.png",alt:"Create New Application"})}),"\n",(0,o.jsx)(e.h4,{id:"photon\u30bf\u30a4\u30d7\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u9078\u629e",children:"Photon\u30bf\u30a4\u30d7\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u9078\u629e"}),"\n",(0,o.jsx)(e.p,{children:"\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Photon Type: RealTime"}),"\n",(0,o.jsx)(e.li,{children:"Name: PlayCanvas-Photon \u306a\u3069"}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/3.png",alt:"Create Real Time Project"})}),"\n",(0,o.jsx)(e.h4,{id:"appid\u3092\u30b3\u30d4\u30fc",children:"AppID\u3092\u30b3\u30d4\u30fc"}),"\n",(0,o.jsx)(e.p,{children:"AppID\u3092\u30e1\u30e2\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002\u5f8c\u65e5\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/4.png",alt:"App Id"})}),"\n",(0,o.jsx)(e.h3,{id:"sdk\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",children:"SDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"}),"\n",(0,o.jsx)(e.p,{children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u304b\u3089SDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002"}),"\n",(0,o.jsx)(e.h4,{id:"sdk\u3092\u30af\u30ea\u30c3\u30af",children:"SDK\u3092\u30af\u30ea\u30c3\u30af"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/5.png",alt:"SDK"})}),"\n",(0,o.jsx)(e.h4,{id:"realtime-javascript\u3092\u9078\u629e",children:"RealTime JavaScript\u3092\u9078\u629e"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/6.png",alt:"JavaScript SDK"})}),"\n",(0,o.jsx)(e.h4,{id:"sdk\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u30af\u30ea\u30c3\u30af",children:"SDK\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3092\u30af\u30ea\u30c3\u30af"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/7.png",alt:"Download SDK"})}),"\n",(0,o.jsx)(e.h4,{id:"sdk\u3092\u89e3\u51cd",children:"SDK\u3092\u89e3\u51cd"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/8.png",alt:"Unzip SDK"})}),"\n",(0,o.jsxs)(e.p,{children:["SDK\u306fZIP\u5f62\u5f0f\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u307e\u3059\u3002\u89e3\u51cd\u3057\u3066\u304f\u3060\u3055\u3044: ",(0,o.jsx)(e.code,{children:"photon-javascript-sdk_vX-X-X-X"})," \u2192 ",(0,o.jsx)(e.code,{children:"lib"})," \u2192 ",(0,o.jsx)(e.strong,{children:(0,o.jsx)(e.code,{children:"Photon-Javascript_SDK.min.js"})}),"\u3002"]}),"\n",(0,o.jsx)(e.h3,{id:"sdk\u306e\u30a4\u30f3\u30dd\u30fc\u30c8",children:"SDK\u306e\u30a4\u30f3\u30dd\u30fc\u30c8"}),"\n",(0,o.jsx)(e.p,{children:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305fSDK\u3092PlayCanvas\u30a8\u30c7\u30a3\u30bf\u30fc\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002"}),"\n",(0,o.jsx)(e.h4,{id:"\u30a8\u30c7\u30a3\u30bf\u306bsdk\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",children:"\u30a8\u30c7\u30a3\u30bf\u306bSDK\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/9.jpg",alt:"Upload SDK"})}),"\n",(0,o.jsx)(e.p,{children:"SDK\u3092\u30a8\u30c7\u30a3\u30bf\u306e\u30a2\u30bb\u30c3\u30c8\u306b\u30c9\u30e9\u30c3\u30b0&\u30c9\u30ed\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),"\n",(0,o.jsx)(e.h4,{id:"loading-type\u3092asset\u304b\u3089before-engine\u306b\u5909\u66f4",children:"Loading Type\u3092\u300cAsset\u300d\u304b\u3089\u300cBefore Engine\u300d\u306b\u5909\u66f4"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/10.png",alt:"Change Loading Type"})}),"\n",(0,o.jsx)(e.h2,{id:"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u5b9f\u88c5",children:"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u5b9f\u88c5"}),"\n",(0,o.jsx)(e.p,{children:"\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u5b9f\u88c5\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u6a5f\u80fd\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u3068\u8ca0\u8377\u5206\u6563\u306e\u305f\u3081\u306bPhoton\u30af\u30e9\u30b9\u3092\u4f7f\u7528"}),"\n",(0,o.jsx)(e.li,{children:"Photon\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a"}),"\n",(0,o.jsx)(e.li,{children:"\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u307e\u305f\u306f\u53c2\u52a0"}),"\n",(0,o.jsx)(e.li,{children:"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u52d5\u4f5c\u3068\u79fb\u52d5\u306e\u540c\u671f"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://doc-api.photonengine.com/en/javascript/current/Photon.LoadBalancing.LoadBalancingClient.html",children:"API\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9"}),"\u3068",(0,o.jsx)(e.a,{href:"https://doc.photonengine.com/ja-jp/quantum/v1/reference/glossary",children:"\u7528\u8a9e\u96c6"}),"\u306f\u3001Photon\u306e\u30b5\u30a4\u30c8\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002"]}),"\n",(0,o.jsx)(e.h3,{id:"playcanvas\u3067photon\u3092\u4f7f\u7528",children:"PlayCanvas\u3067Photon\u3092\u4f7f\u7528"}),"\n",(0,o.jsx)(e.h4,{id:"playcanvas\u304b\u3089photon\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u30af\u30e9\u30b9\u3092\u751f\u6210",children:"PlayCanvas\u304b\u3089Photon\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u30af\u30e9\u30b9\u3092\u751f\u6210"}),"\n",(0,o.jsxs)(e.p,{children:["Photon\u3092\u521d\u671f\u5316\u3059\u308b\u305f\u3081\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b",(0,o.jsx)(e.strong,{children:"photon-loadbalancing-playcanvas.js"}),"\u3068\u3044\u3046\u30b9\u30af\u30ea\u30d7\u30c8\u30a2\u30bb\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'// photon-loadbalancing-playcanvas.js\nconst PhotonLoadBalancingPlayCanvas = pc.createScript("PhotonLoadBalancingPlayCanvas");\nPhotonLoadBalancingPlayCanvas.attributes.add("appId", { type: "string" });\nPhotonLoadBalancingPlayCanvas.attributes.add("appVersion", { type: "string", default: "1.0" });\nPhotonLoadBalancingPlayCanvas.attributes.add("wss", { type: "boolean", default: true });\nPhotonLoadBalancingPlayCanvas.attributes.add("region", {\n    type: "string", default: "jp",\n    description: "Photon Cloud has servers in several regions, distributed across multiple hosting centers over the world.You can choose optimized region for you.",\n    enum: [\n        { "Select Region": "default" },\n        { "Asia, Singapore": "asia" },\n        { "Australia, Melbourne": "au" },\n        { "Canada, East Montreal": "cae" },\n        { "Chinese Mainland (See Instructions)  Shanghai": "cn" },\n        { "Europe, Amsterdam": "eu" },\n        { "India, Chennai": "in" },\n        { "Japan, Tokyo": "jp" },\n        { "Russia Moscow": "ru" },\n        { "Russia, East Khabarovsk": "rue" },\n        { "South Africa Johannesburg": "za" },\n        { "South America, Sao Paulo": "sa" },\n        { "South Korea, Seoul": "kr" },\n        { "Turkey Istanbul": "tr" },\n        { "USA, East Washington": "us" },\n        { "USA, West San Jos\xe9": "usw" },\n    ],\n});\n\nPhotonLoadBalancingPlayCanvas.prototype.initialize = function () {\n\n    // Photon Settings\n    this.loadBalancingClient = new Photon.LoadBalancing.LoadBalancingClient(this.wss ? 1 : 0, this.appId, this.appVersion);\n\n    // pc.Application\n    this.loadBalancingClient.app = this.app;\n};\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Photon.LoadBalancing.LoadBalancingClient"}),"  \u3053\u306e\u30af\u30e9\u30b9\u306b\u306f\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u306e\u305f\u3081\u306ePhoton SDK\u306e\u591a\u304f\u306e\u6a5f\u80fd\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.h4,{id:"root-entity\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b",children:"Root entity\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8a2d\u5b9a\u3059\u308b"}),"\n",(0,o.jsxs)(e.p,{children:["\u65b0\u3057\u3044\u30b9\u30af\u30ea\u30d7\u30c8\u30a2\u30bb\u30c3\u30c8",(0,o.jsx)(e.strong,{children:"photon-loadbalancing-playcanvas.js"}),"\u3092\u4f5c\u6210\u3057\u3001\u30a8\u30c7\u30a3\u30bf\u3067Root\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u6dfb\u4ed8\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/11.png",alt:"Root Entity - Inspector"})}),"\n",(0,o.jsx)(e.h4,{id:"\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027\u306bappid\u3092\u8cbc\u308a\u4ed8\u3051\u308b",children:"\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027\u306bAppId\u3092\u8cbc\u308a\u4ed8\u3051\u308b"}),"\n",(0,o.jsx)(e.p,{children:"\u30b9\u30af\u30ea\u30d7\u30c8\u5c5e\u6027\u306bAppId\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/12.png",alt:"Script Attributes"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"this.loadBalancingClient = new Photon.LoadBalancing.LoadBalancingClient( this.wss ? 1 : 0, this.appId, this.appVersion );\n"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"wss"})," WebSocket\u3092\u4ecb\u3057\u305f\u5b89\u5168\u306a\u63a5\u7d9a\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"appId"})," \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8b58\u5225\u5b50\u306e\u5024\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"appVersion"})," \u30d0\u30fc\u30b8\u30e7\u30cb\u30f3\u30b0\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u7570\u306a\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4e92\u3044\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b",children:"\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b"}),"\n",(0,o.jsxs)(e.h4,{id:"connecttoregionmaster-\u3092\u4f7f\u7528\u3057\u3066\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b",children:[(0,o.jsx)(e.code,{children:"connectToRegionMaster"})," \u3092\u4f7f\u7528\u3057\u3066\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3059\u308b"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:"PhotonLoadBalancingPlayCanvas.prototype.initialize = function () {\n\n    // Photon Settings\n    this.loadBalancingClient = new Photon.LoadBalancing.LoadBalancingClient(this.wss ? 1 : 0, this.appId, this.appVersion);\n\n    // pc.Application\n    this.loadBalancingClient.app = this.app;\n\n    // Connect to the master server\n    if (!this.loadBalancingClient.isInLobby()) {\n        this.loadBalancingClient.connectToRegionMaster(this.region);\n    }\n};\n"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"connectToRegionMaster"})," \u6307\u5b9a\u3055\u308c\u305f\u30ea\u30fc\u30b8\u30e7\u30f3\u306e\u30de\u30b9\u30bf\u30fc\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"this.region"})," \u30ea\u30fc\u30b8\u30e7\u30f3\u3092\u8a2d\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"connectToRegionMaster \u3092\u5b9f\u884c\u3057\u3066\u30ed\u30d3\u30fc\u306b\u63a5\u7d9a\u3067\u304d\u305f\u5834\u5408\u306fJoinedLobby\u304c\u30ed\u30b0\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/13.png",alt:"Console Log"})}),"\n",(0,o.jsx)(e.h3,{id:"\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u307e\u305f\u306f\u53c2\u52a0",children:"\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u307e\u305f\u306f\u53c2\u52a0"}),"\n",(0,o.jsxs)(e.p,{children:["\u30ed\u30d3\u30fc\u3078\u306e\u63a5\u7d9a\u304c\u884c\u308f\u308c\u305f\u5834\u5408\u306f\u3001",(0,o.jsx)(e.strong,{children:"onRoomList"})," \u95a2\u6570\u304c\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.p,{children:["\u30eb\u30fc\u30e0\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306f ",(0,o.jsx)(e.strong,{children:"JoinRandomOrCreateRoom"})," \u3067\u53c2\u52a0\u3057\u3001\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\u30e9\u30f3\u30c0\u30e0\u306b\u30eb\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3066\u53c2\u52a0\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'PhotonLoadBalancingPlayCanvas.prototype.initialize = function () {\n\n    // Photon Settings\n    this.loadBalancingClient = new Photon.LoadBalancing.LoadBalancingClient(this.wss ? 1 : 0, this.appId, this.appVersion);\n\n    // pc.Application\n    this.loadBalancingClient.app = this.app;\n\n    // Connect to the master server\n    if (!this.loadBalancingClient.isInLobby()) {\n        this.loadBalancingClient.connectToRegionMaster(this.region);\n    }\n\n    // Added\n    this.loadBalancingClient.onRoomList = this.onRoomList;\n    this.loadBalancingClient.onJoinRoom = this.onJoinRoom;\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onRoomList = function () {\n    this.joinRandomOrCreateRoom();\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onJoinRoom = function (createdByMe) {\n    console.log("Joined the room.");\n};\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"onRoomList(rooms)"})," \u30ed\u30d3\u30fc\u5185\u306e\u30eb\u30fc\u30e0\u306e\u30ea\u30b9\u30c8"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"joinRandomOrCreateRoom(options, createRoomName, createOptions)"})," \u30e9\u30f3\u30c0\u30e0\u306b\u30eb\u30fc\u30e0\u306b\u53c2\u52a0\u3057\u307e\u3059\u3002\u30eb\u30fc\u30e0\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\u65b0\u3057\u3044\u30eb\u30fc\u30e0\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"onJoinRoom"}),"\xa0\u30eb\u30fc\u30e0\u306b\u53c2\u52a0\u3057\u305f\u3068\u304d\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u53c2\u52a0\u3068\u9000\u51fa",children:"\u53c2\u52a0\u3068\u9000\u51fa"}),"\n",(0,o.jsxs)(e.p,{children:["\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u90e8\u5c4b\u306b\u53c2\u52a0\u3059\u308b\u3068\u3001\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3068\u540c\u671f\u3055\u308c\u307e\u3059\u3002 ",(0,o.jsx)(e.strong,{children:"onActorJoin"})," \u3068 ",(0,o.jsx)(e.strong,{children:"onActorLeave"})," \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'PhotonLoadBalancingPlayCanvas.prototype.initialize = function () {\n\n    // Photon Settings\n    this.loadBalancingClient = new Photon.LoadBalancing.LoadBalancingClient(this.wss ? 1 : 0, this.appId, this.appVersion);\n\n    // pc.Application\n    this.loadBalancingClient.app = this.app;\n\n    // Connect to the master server\n    if (!this.loadBalancingClient.isInLobby()) {\n        this.loadBalancingClient.connectToRegionMaster(this.region);\n    }\n\n    this.loadBalancingClient.onRoomList = this.onRoomList;\n    this.loadBalancingClient.onJoinRoom = this.onJoinRoom;\n\n    // Added\n    this.loadBalancingClient.onActorJoin = this.onActorJoin;\n    this.loadBalancingClient.onActorLeave = this.onActorLeave;\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onRoomList = function () {\n    this.joinRandomOrCreateRoom();\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onJoinRoom = function (createdByMe) {\n    console.log("Joined the room.");\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onActorJoin = function (actor) {\n    const { actorNr } = actor;\n    if (actor.isLocal) return;\n    const otherPlayer = new pc.Entity();\n    otherPlayer.addComponent("render", { type: "capsule" });\n    otherPlayer.setLocalPosition(0, 1, 0);\n    otherPlayer.name = actorNr;\n    this.app.root.children[0].addChild(otherPlayer);\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onActorLeave = function (actor) {\n    const { actorNr } = actor;\n    const otherPlayer = this.app.root.children[0].findByName(actorNr);\n    if (actor.isLocal || !otherPlayer) return;\n    otherPlayer.destroy();\n};\n'})}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/14.png",alt:"Actor"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"actor"})," \u306f ",(0,o.jsx)(e.code,{children:"name"}),", ",(0,o.jsx)(e.code,{children:"actorNr"})," , ",(0,o.jsx)(e.code,{children:"isLocal"})," , ",(0,o.jsx)(e.code,{children:"userId"})," \u3092\u542b\u307f\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"onActorJoin"})," \u65b0\u3057\u3044\u30e6\u30fc\u30b6\u30fc\u304c\u63a5\u7d9a\u3059\u308b\u3068\u3001\u53c2\u52a0\u3057\u305f\u30a2\u30af\u30bf\u30fc\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"onActorLeave"})," \u30e6\u30fc\u30b6\u30fc\u304c\u5207\u65ad\u3055\u308c\u308b\u3068\u3001\u5207\u65ad\u3055\u308c\u305f\u30a2\u30af\u30bf\u30fc\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:["\u6210\u529f\u3057\u305f\u5834\u5408\u3001\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u53c2\u52a0\u3057\u305f\u3068\u304d\u306b\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u304c\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002\n",(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/15.png",alt:"Console log - Actors "})]}),"\n",(0,o.jsx)(e.h4,{id:"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u79fb\u52d5",children:"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u79fb\u52d5"}),"\n",(0,o.jsxs)(e.p,{children:["\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u79fb\u52d5\u306b\u306f\u65b0\u3057\u3044 ",(0,o.jsx)(e.strong,{children:"player.js"})," \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'const Player = pc.createScript("player");\n\nPlayer.prototype.update = function (dt) {\n    const pos = new pc.Vec3(0, 0, 0);\n    if (this.app.keyboard.isPressed(pc.KEY_LEFT)) {\n        pos.x = -dt;\n    }\n    if (this.app.keyboard.isPressed(pc.KEY_RIGHT)) {\n        pos.x = dt;\n    }\n    if (this.app.keyboard.isPressed(pc.KEY_UP)) {\n        pos.z = -dt;\n    }\n    if (this.app.keyboard.isPressed(pc.KEY_DOWN)) {\n        pos.z = dt;\n    }\n    if (!pos.equals(new pc.Vec3(0, 0, 0))) {\n        this.entity.translate(pos);\n    }\n};\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"this.app.keyboard.isPressed:"})," \u30ad\u30fc\u30dc\u30fc\u30c9\u304c\u62bc\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u540c\u671f\u3059\u308b",children:"\u4ed6\u306e\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u540c\u671f\u3059\u308b"}),"\n",(0,o.jsxs)(e.p,{children:["\u4ed6\u306e\u30d7\u30ec\u30fc\u30e4\u30fc\u306e\u4f4d\u7f6e\u3092\u540c\u671f\u3059\u308b\u305f\u3081\u306b\u3001",(0,o.jsx)(e.strong,{children:"raiseEvent"})," \u3068 ",(0,o.jsx)(e.strong,{children:"onEvent"})," \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.h4,{id:"raiseevent-\u3092\u4f7f\u7528\u3057\u305f\u4f4d\u7f6e\u306e\u540c\u671f",children:[(0,o.jsx)(e.strong,{children:"raiseEvent"})," \u3092\u4f7f\u7528\u3057\u305f\u4f4d\u7f6e\u306e\u540c\u671f"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'const PhotonLoadBalancingPlayCanvas = pc.createScript("PhotonLoadBalancingPlayCanvas");\nPhotonLoadBalancingPlayCanvas.attributes.add("appId", { type: "string" });\nPhotonLoadBalancingPlayCanvas.attributes.add("appVersion", {\n    type: "string",\n    default: "1.0",\n});\nPhotonLoadBalancingPlayCanvas.attributes.add("wss", {\n    type: "boolean",\n    default: true,\n});\nPhotonLoadBalancingPlayCanvas.attributes.add("region", {\n    type: "string",\n    default: "jp",\n    description:\n        "Photon Cloud has servers in several regions, distributed across multiple hosting centers over the world.You can choose optimized region for you.",\n    enum: [\n        { "Select Region": "default" },\n        { "Asia, Singapore": "asia" },\n        { "Australia, Melbourne": "au" },\n        { "Canada, East Montreal": "cae" },\n        { "Chinese Mainland (See Instructions)  Shanghai": "cn" },\n        { "Europe, Amsterdam": "eu" },\n        { "India, Chennai": "in" },\n        { "Japan, Tokyo": "jp" },\n        { "Russia Moscow": "ru" },\n        { "Russia, East Khabarovsk": "rue" },\n        { "South Africa Johannesburg": "za" },\n        { "South America, Sao Paulo": "sa" },\n        { "South Korea, Seoul": "kr" },\n        { "Turkey Istanbul": "tr" },\n        { "USA, East Washington": "us" },\n        { "USA, West San Jos\xe9": "usw" },\n    ],\n});\n\nPhotonLoadBalancingPlayCanvas.prototype.initialize = function () {\n\n    // Photon Settings\n    this.loadBalancingClient = new Photon.LoadBalancing.LoadBalancingClient(this.wss ? 1 : 0, this.appId, this.appVersion);\n\n    // pc.Application\n    this.loadBalancingClient.app = this.app;\n\n    // Connect to the master server\n    if (!this.loadBalancingClient.isInLobby()) {\n        this.loadBalancingClient.connectToRegionMaster(this.region);\n    }\n    this.loadBalancingClient.onRoomList = this.onRoomList;\n    this.loadBalancingClient.onJoinRoom = this.onJoinRoom;\n    this.loadBalancingClient.onActorJoin = this.onActorJoin;\n    this.loadBalancingClient.onActorLeave = this.onActorLeave;\n\n    // Added\n    this.loadBalancingClient.onEvent = this.onEvent;\n    this.app.on("createOtherPlayerEntity", this.createOtherPlayerEntity, this);\n    this.app.on("loadbalancing:sendPlayerPosition", this.sendPlayerPosition, this);\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onRoomList = function () {\n    this.joinRandomOrCreateRoom();\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onJoinRoom = function (createdByMe) {\n    this.myRoomActorsArray().forEach((actor) => {\n        if (actor.isLocal) return;\n        this.app.fire("createOtherPlayerEntity", actor);\n    });\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onActorJoin = function (actor) {\n    if (actor.isLocal) return;\n    this.app.fire("createOtherPlayerEntity", actor);\n    const { x, y, z } = this.app.root.findByName("Player").getLocalPosition();\n    this.app.fire("loadbalancing:sendPlayerPosition", { x, y, z });\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onActorLeave = function (actor) {\n    const { actorNr } = actor;\n    const otherPlayer = this.app.root.findByName(actorNr);\n    if (actor.isLocal || !otherPlayer) return;\n    otherPlayer.destroy();\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.createOtherPlayerEntity = function (actor) {\n    const { actorNr } = actor;\n    const entity = new pc.Entity();\n    entity.addComponent("render", { type: "capsule" });\n    entity.setLocalPosition(0, 1, 0);\n    entity.name = actorNr;\n    this.app.root.children[0].addChild(entity);\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.sendPlayerPosition = function (position) {\n    this.loadBalancingClient.raiseEvent(1, { position });\n};\n\nPhotonLoadBalancingPlayCanvas.prototype.onEvent = function (code, content, actorNr) {\n    switch (code) {\n        case 1: {\n            const otherPlayer = this.app.root.findByName(actorNr);\n            if (otherPlayer) {\n                const { x, y, z } = content.position;\n                otherPlayer.setLocalPosition(x, y, z);\n            }\n            break;\n        }\n        default:\n    }\n};\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"raiseEvent(eventCode,data, options)"}),"  ",(0,o.jsx)(e.code,{children:"eventCode"})," \u3068 ",(0,o.jsx)(e.code,{children:"data"})," \u3092\u9001\u4fe1\u3057\u307e\u3059\u3002"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"onEvent(code, content, actorNr)"})," \u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3057\u307e\u3059\u3002",(0,o.jsx)(e.code,{children:"actorNr"})," \u3068 ",(0,o.jsx)(e.code,{children:"eventCode"})," \u3092\u542b\u307f\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.h4,{id:"\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3059\u308b\u3088\u3046\u5909\u66f4",children:"\u30d7\u30ec\u30a4\u30e4\u30fc\u304c\u79fb\u52d5\u3057\u305f\u969b\u306b\u30a4\u30d9\u30f3\u30c8\u3092\u767a\u706b\u3059\u308b\u3088\u3046\u5909\u66f4"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-javascript",children:'const Player = pc.createScript("player");\n\nPlayer.prototype.update = function (dt) {\n    const pos = new pc.Vec3(0, 0, 0);\n    if (this.app.keyboard.isPressed(pc.KEY_LEFT)) {\n        pos.x = -dt;\n    }\n    if (this.app.keyboard.isPressed(pc.KEY_RIGHT)) {\n        pos.x = dt;\n    }\n    if (this.app.keyboard.isPressed(pc.KEY_UP)) {\n        pos.z = -dt;\n    }\n    if (this.app.keyboard.isPressed(pc.KEY_DOWN)) {\n        pos.z = dt;\n    }\n    if (!pos.equals(new pc.Vec3(0, 0, 0))) {\n        this.entity.translate(pos);\n\n        // Added\n        const { x, y, z } = this.entity.getPosition();\n        this.app.fire("loadbalancing:sendPlayerPosition", { x, y, z });\n    }\n};\n'})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"this.app.fire"})," \u306f\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u9593\u306e ",(0,o.jsx)(e.a,{href:"/user-manual/scripting/communication/",children:"\u901a\u4fe1"}),"\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"\u5b8c\u6210",children:"\u5b8c\u6210\uff01"}),"\n",(0,o.jsx)(e.p,{children:"Photon\u3092\u4f7f\u7528\u3057\u3066\u30de\u30eb\u30c1\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u30d7\u30ec\u30a4\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\uff01"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{src:"/images/tutorials/multiplayer-photon/16.gif",alt:"Project"})}),"\n",(0,o.jsx)(e.p,{children:"Photon\u3092\u4f7f\u3063\u3066\u30eb\u30fc\u30e0\u3092\u4f5c\u6210\u3057\u3001\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u4f4d\u7f6e\u3092\u540c\u671f\u3067\u304d\u307e\u3059\u3002"}),"\n",(0,o.jsxs)(e.p,{children:["\u3053\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u30d7\u30ec\u30a4\u30e4\u30fc\u9593\u306e\u30b7\u30f3\u30d7\u30eb\u306a\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u901a\u4fe1\u3067\u3057\u305f\u304c\u3001\u30de\u30c3\u30c1\u30e1\u30a4\u30ad\u30f3\u30b0\u3092\u542b\u3080\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3082\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u30eb\u30fc\u30e0\u306e\u4f5c\u6210\u3084\u30ea\u30b9\u30c8\u8868\u793a\u3092\u542b\u3080\u5b8c\u5168\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u3064\u3044\u3066\u306f\u3001\xa0 ",(0,o.jsx)(e.a,{href:"https://playcanvas.com/project/926999/",children:"\u3053\u3061\u3089"}),"\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]})}function h(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},11151:(n,e,a)=>{a.d(e,{Z:()=>l,a:()=>s});var o=a(67294);const t={},i=o.createContext(t);function s(n){const e=o.useContext(i);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),o.createElement(i.Provider,{value:e},n.children)}}}]);