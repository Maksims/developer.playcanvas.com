"use strict";(self.webpackChunkdeveloper_playcanvas_com=self.webpackChunkdeveloper_playcanvas_com||[]).push([[7362],{29752:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>l,frontMatter:()=>c,metadata:()=>o,toc:()=>f});var s=n(85893),a=n(11151);const c={title:"\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8",tags:["posteffects"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406045/11D659-image-75.jpg"},r=void 0,o={id:"tutorials/custom-posteffect",title:"\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8",description:"\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001GLSL\u306e\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",source:"@site/i18n/ja/docusaurus-plugin-content-docs/current/tutorials/custom-posteffect.md",sourceDirName:"tutorials",slug:"/tutorials/custom-posteffect",permalink:"/ja/tutorials/custom-posteffect",draft:!1,unlisted:!1,editUrl:"https://github.com/playcanvas/developer.playcanvas.com/tree/dev/docs/tutorials/custom-posteffect.md",tags:[{label:"posteffects",permalink:"/ja/tags/posteffects"}],version:"current",frontMatter:{title:"\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8",tags:["posteffects"],thumb:"https://s3-eu-west-1.amazonaws.com/images.playcanvas.com/projects/12/406045/11D659-image-75.jpg"},sidebar:"tutorialsSidebar",previous:{title:"Creating Rigid Bodies in Code",permalink:"/ja/tutorials/creating-rigid-bodies-in-code"},next:{title:"\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc",permalink:"/ja/tutorials/custom-shaders"}},i={},f=[{value:"\u6982\u8981",id:"\u6982\u8981",level:2},{value:"\u30b9\u30af\u30ea\u30d7\u30c8",id:"\u30b9\u30af\u30ea\u30d7\u30c8",level:2},{value:"\u30a8\u30d5\u30a7\u30af\u30c8",id:"\u30a8\u30d5\u30a7\u30af\u30c8",level:2},{value:"\u307e\u3068\u3081",id:"\u307e\u3068\u3081",level:2}];function p(e){const t={a:"a",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"iframe-container",children:(0,s.jsx)("iframe",{loading:"lazy",src:"https://playcanv.as/p/3je0YP0q/",title:"Custom Post Effects"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001GLSL\u306e\u30ab\u30b9\u30bf\u30e0\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u3066\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002"})}),"\n",(0,s.jsx)(t.h2,{id:"\u6982\u8981",children:"\u6982\u8981"}),"\n",(0,s.jsx)(t.p,{children:"PlayCanvas\u3067\u306f\u3001JavaScript\u3068GLSL\u3092\u4f7f\u7528\u3057\u3066\u72ec\u81ea\u306e\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u306f\u3001\u30ab\u30e1\u30e9\u304b\u3089\u306e2D\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306b\u5bfe\u3057\u3066\u4f5c\u7528\u3059\u308b\u30b7\u30a7\u30fc\u30c0\u30fc\u3067\u3059\u3002\u30a4\u30e1\u30fc\u30b8\u306b\u8907\u6570\u306e\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u9069\u7528\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306e\u30a8\u30d5\u30a7\u30af\u30c8\u306f\u524d\u306e\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u51fa\u529b\u3092\u5165\u529b\u3068\u3057\u3066\u4f7f\u7528\u3057\u307e\u3059\u3002"}),"\n",(0,s.jsxs)(t.p,{children:["\u4ee5\u4e0b\u306e\u6bb5\u843d\u3067\u306f\u3001\u72ec\u81ea\u306e\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002\u65e2\u5b58\u306e\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u4f8b\u306f\u3001",(0,s.jsx)(t.a,{href:"https://github.com/playcanvas/engine/tree/master/scripts/posteffects",children:"\u3053\u3053\u306b\u3042\u308a\u307e\u3059"}),"\u3002"]}),"\n",(0,s.jsx)(t.h2,{id:"\u30b9\u30af\u30ea\u30d7\u30c8",children:"\u30b9\u30af\u30ea\u30d7\u30c8"}),"\n",(0,s.jsxs)(t.p,{children:["\u6700\u521d\u306b\u65b0\u3057\u3044\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f\u3001\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u306e",(0,s.jsx)(t.a,{href:"https://api.playcanvas.com/classes/Engine.Shader.html",children:"\u30b7\u30a7\u30fc\u30c0\u30fc\u5b9a\u7fa9"}),"\u3068\u3001\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u30ab\u30e1\u30e9\u306b\u8ffd\u52a0\u3059\u308b\u30b3\u30fc\u30c9\u304c\u542b\u307e\u308c\u307e\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001",(0,s.jsx)(t.a,{href:"/user-manual/scenes/components/camera",children:"Camera\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8"}),"\u3092\u6301\u3064\u30a8\u30f3\u30c6\u30a3\u30c6\u30a3\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u540d\u306f\u300cposteffect_example.js\u300d\u3068\u3057\u307e\u3059\u3002"]}),"\n",(0,s.jsx)(t.h2,{id:"\u30a8\u30d5\u30a7\u30af\u30c8",children:"\u30a8\u30d5\u30a7\u30af\u30c8"}),"\n",(0,s.jsxs)(t.p,{children:["\u6b21\u306b\u3001\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u7528\u306e\u65b0\u3057\u3044\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30af\u30e9\u30b9\u306f ",(0,s.jsx)(t.a,{href:"https://api.playcanvas.com/classes/Engine.PostEffect.html",children:"pc.posteffect.PostEffect"})," \u304b\u3089\u6d3e\u751f\u3057\u307e\u3059\u3002\u3053\u306e\u30af\u30e9\u30b9\u306e\u5b9a\u7fa9\u306f\u3001\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9a\u7fa9\u306e\u76f4\u524d\u306b posteffect_example.js \u30b9\u30af\u30ea\u30d7\u30c8\u5185\u306b\u8a18\u8ff0\u3057\u307e\u3059\u3002"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:'pc.extend(pc, function () {\n    // \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf (Constructor) - \u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\n    var ExamplePostEffect = function (graphicsDevice, vs, fs) {\n        // \u30a8\u30d5\u30a7\u30af\u30c8\u306e\u30b7\u30a7\u30fc\u30c0\u5b9a\u7fa9\n        this.shader = new pc.Shader(graphicsDevice, {\n            attributes: {\n                aPosition: pc.SEMANTIC_POSITION\n            },\n            vshader: vs,\n            fshader: fs\n        });\n    };\n\n    // \u3053\u306e\u30a8\u30d5\u30a7\u30af\u30c8\u306fpc.PostEffect\u304b\u3089\u6d3e\u751f\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\n    ExamplePostEffect = pc.inherits(ExamplePostEffect, pc.PostEffect);\n\n    ExamplePostEffect.prototype = pc.extend(ExamplePostEffect.prototype, {\n        // \u3059\u3079\u3066\u306e\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u306f\u30b7\u30a7\u30fc\u30c0\u304c\u5fc5\u8981\u3068\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8a2d\u5b9a\u3057\u3001\n        // \u3055\u3089\u306b\u753b\u9762\u4e0a\u3067\u30a8\u30d5\u30a7\u30af\u30c8\u3092\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3059\u308brender\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\n        render: function (inputTarget, outputTarget, rect) {\n            var device = this.device;\n            var scope = device.scope;\n\n            // \u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\u3055\u308c\u305f\u753b\u50cf\u3067\u3042\u308binputTarget\u3092\u30b7\u30a7\u30fc\u30c0\u306b\u8a2d\u5b9a\u3057\u307e\u3059\n            scope.resolve("uColorBuffer").setValue(inputTarget.colorBuffer);\n\n            // \u5168\u753b\u9762\u306e\u56db\u89d2\u5f62\u3092\u63cf\u753b(drawFullscreenQuad) \u3057\u307e\u3059\u3002\u51fa\u529b\u30bf\u30fc\u30b2\u30c3\u30c8 (outputTarget) \u306f\u30b9\u30af\u30ea\u30fc\u30f3\u3067\u3059\n            // \u5168\u753b\u9762\u306e\u56db\u89d2\u5f62\u3092\u63cf\u753b (drawFullscreenQuad) \u3059\u308b\u3068\u3001\u4e0a\u3067\u5b9a\u7fa9\u3057\u305f\u30b7\u30a7\u30fc\u30c0\u304c\u5b9f\u884c\u3055\u308c\u307e\u3059 \n            pc.drawFullscreenQuad(device, outputTarget, this.vertexBuffer, this.shader, rect);\n        }\n    });\n\n    return {\n        ExamplePostEffect: ExamplePostEffect\n    };\n}());\n'})}),"\n",(0,s.jsx)(t.h2,{id:"\u307e\u3068\u3081",children:"\u307e\u3068\u3081"}),"\n",(0,s.jsxs)(t.p,{children:["\u3053\u308c\u3067\u3001\u30dd\u30b9\u30c8\u30a8\u30d5\u30a7\u30af\u30c8\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u63c3\u3044\u307e\u3057\u305f\u3002\u5b9a\u7fa9\u3057\u305fExamplePostEffect\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u3001\u30ab\u30e1\u30e9\u306e",(0,s.jsx)(t.a,{href:"https://api.playcanvas.com/classes/Engine.CameraComponent.html#postEffects",children:"post effect queue"}),"\u306b\u8ffd\u52a0\u3059\u308b\u3060\u3051\u3067\u3059\u3002\u4ee5\u4e0b\u304c\u5b8c\u5168\u306a\u30ea\u30b9\u30c8\u3067\u3059\u3002"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-javascript",children:"//--------------- POST EFFECT DEFINITION------------------------//\npc.extend(pc, function () {\n    // Constructor - Creates an instance of our post effect\n    var ExamplePostEffect = function (graphicsDevice, vs, fs) {\n        // this is the shader definition for our effect\n        this.shader = new pc.Shader(graphicsDevice, {\n            attributes: {\n                aPosition: pc.SEMANTIC_POSITION\n            },\n            vshader: vs,\n            fshader: fs\n        });\n    };\n\n    // Our effect must derive from pc.PostEffect\n    ExamplePostEffect = pc.inherits(ExamplePostEffect, pc.PostEffect);\n\n    ExamplePostEffect.prototype = pc.extend(ExamplePostEffect.prototype, {\n        // Every post effect must implement the render method which\n        // sets any parameters that the shader might require and\n        // also renders the effect on the screen\n        render: function (inputTarget, outputTarget, rect) {\n            var device = this.device;\n            var scope = device.scope;\n\n            // Set the input render target to the shader. This is the image rendered from our camera\n            scope.resolve(\"uColorBuffer\").setValue(inputTarget.colorBuffer);\n\n            // Draw a full screen quad on the output target. In this case the output target is the screen.\n            // Drawing a full screen quad will run the shader that we defined above\n            pc.drawFullscreenQuad(device, outputTarget, this.vertexBuffer, this.shader, rect);\n        }\n    });\n\n    return {\n        ExamplePostEffect: ExamplePostEffect\n    };\n}());\n\n//--------------- SCRIPT DEFINITION------------------------//\nvar PosteffectExample = pc.createScript('posteffectExample');\n\nPosteffectExample.attributes.add('vs', {\n    type: 'asset',\n    assetType: 'shader',\n    title: 'Vertex Shader'\n});\n\nPosteffectExample.attributes.add('fs', {\n    type: 'asset',\n    assetType: 'shader',\n    title: 'Fragment Shader'\n});\n\n// initialize code called once per entity\nPosteffectExample.prototype.initialize = function() {\n    var effect = new pc.ExamplePostEffect(this.app.graphicsDevice, this.vs.resource, this.fs.resource);\n\n    // add the effect to the camera's postEffects queue\n    var queue = this.entity.camera.postEffects;\n    queue.addEffect(effect);\n\n    // when the script is enabled add our effect to the camera's postEffects queue\n    this.on('enable', function () {\n        queue.addEffect(effect, false);\n    });\n\n    // when the script is disabled remove our effect from the camera's postEffects queue\n    this.on('disable', function () {\n        queue.removeEffect(effect);\n    });\n\n\n};\n"})}),"\n",(0,s.jsxs)(t.p,{children:["\u30ab\u30b9\u30bf\u30e0\u30b7\u30a7\u30fc\u30c0\u30fc\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f",(0,s.jsx)(t.a,{href:"/tutorials/custom-shaders/",children:"\u3053\u3061\u3089"}),"\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,s.jsxs)(t.p,{children:["Custom Post Effects\u306f",(0,s.jsx)(t.a,{href:"https://playcanvas.com/project/406045",children:"\u3053\u3061\u3089"}),"\u3002"]})]})}function l(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>r});var s=n(67294);const a={},c=s.createContext(a);function r(e){const t=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(c.Provider,{value:t},e.children)}}}]);